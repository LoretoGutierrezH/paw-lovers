(this["webpackJsonppaw-lovers"]=this["webpackJsonppaw-lovers"]||[]).push([[0],[,,,function(e,t,a){e.exports={modalWrapper:"AuthModal_modalWrapper__2_abP",modal:"AuthModal_modal__1ADVU",activeTab:"AuthModal_activeTab__3xUEb",inactiveTab:"AuthModal_inactiveTab__3OfYM",closeModalIcon:"AuthModal_closeModalIcon__3DvwF",modalContent:"AuthModal_modalContent__2Y2qo",signInForm:"AuthModal_signInForm__UkIHQ",signUpForm:"AuthModal_signUpForm__35SLS",btn:"AuthModal_btn__2zMa9",active:"AuthModal_active__1xGQF",inactive:"AuthModal_inactive__2WoUT",googleBtn:"AuthModal_googleBtn__2mgzF",successMessage:"AuthModal_successMessage__1g8dx",failMessage:"AuthModal_failMessage__1qeyt"}},,,,,,,,,function(e,t,a){e.exports={post:"Post_post__3iLUm",heading:"Post_heading__121Rf",contentArea:"Post_contentArea__IzsQf",interactionContainer:"Post_interactionContainer__CwChw",innerContent:"Post_innerContent__15rGe",pawContainer:"Post_pawContainer__3rfXf"}},,,,,function(e,t,a){e.exports={navbar:"NavBar_navbar__7ck23",logoContainer:"NavBar_logoContainer__3qsbf",authenticationIcon:"NavBar_authenticationIcon__1qNa9",burgerMenuIcon:"NavBar_burgerMenuIcon__2S-Jo",burgerMenu:"NavBar_burgerMenu__nboKN",closedMenu:"NavBar_closedMenu__2r1c3",openMenu:"NavBar_openMenu__xFyOZ",closeBurgerIcon:"NavBar_closeBurgerIcon__3w84i"}},function(e,t,a){e.exports={modalWrapper:"ConfirmationModal_modalWrapper__1aQXU",modal:"ConfirmationModal_modal__3xCAE",modalContent:"ConfirmationModal_modalContent__1Lqk9",actionController:"ConfirmationModal_actionController__1mZVP",actionMessage:"ConfirmationModal_actionMessage__2x6tl",active:"ConfirmationModal_active__3hqub",inactive:"ConfirmationModal_inactive__2vhSr",closeModalBtn:"ConfirmationModal_closeModalBtn__2KLHk"}},,,function(e,t,a){e.exports={modalWrapper:"UpdatePostModal_modalWrapper__67eF9",active:"UpdatePostModal_active__2vu4Y",inactive:"UpdatePostModal_inactive__2JWpa",closeModalBtn:"UpdatePostModal_closeModalBtn___pNFr"}},,,,,,function(e,t,a){e.exports={controlPanelContainer:"ControlPanel_controlPanelContainer__3S-Fy",controlPanelForm:"ControlPanel_controlPanelForm__1KloN",controlPanelHeading:"ControlPanel_controlPanelHeading__mx3--",profilePic:"ControlPanel_profilePic__2Nbq2"}},,,,,,function(e,t,a){e.exports=a.p+"static/media/Paw.bfee87e0.png"},function(e,t,a){e.exports={newPost:"NewPost_newPost__5oKt7",categoryContainer:"NewPost_categoryContainer__2uiQF",infoMessage:"NewPost_infoMessage__2c6Wz"}},function(e,t,a){e.exports={errorTemplate:"Error404_errorTemplate__6DfXC",errorMessage:"Error404_errorMessage__1Nc86"}},,,,,,function(e,t,a){e.exports={postsContainer:"Posts_postsContainer__2FSWR",newPostControl:"Posts_newPostControl__3jcq1"}},,,,function(e,t,a){e.exports=a.p+"static/media/logoPawLovers.4d481848.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAARUlEQVRYR+3U0QkAIAgFQN1/6IL6aQIVOhd4cujLaJ5szg8LEHgFVvFBnmwLEBglUPwEN25UEekBAgT0gBsgQEAP/CmwAdmEEiEL49BKAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABlElEQVRYR+3UsUtVYRjH8c9dmxyEpsBNdDCDHAIJgyaxICxnQ/+BoCUarCWCwL+g0LlwSBwajEQiIhSHMBrDxSmipdV44Rw5Hbyc5712713ugQOHc37P7/d9n/M+b0ufr1af8w0AOunALO7gKkaKX/gD77GNdzm/NRdgBU8aAp4GNKcWOQBX8BEXGgD+YBoHkU7kADzAasQUj/Esos0B2MStiGmxH25GtDkAJxHDiibkHRIVpgOAvnfgF4aC++B3VJuzB9JcTwYBvmIios0BeImliCleYTmizQGYwYeIKW5gJ6LNAUh+b3G7wXgDdyPhSZMLcAlHDebD+NktgOQ7hS9tAsKtL+tzO1DWjeOwBpHA9qIrPy9Aqq8fTB0tJlp0EZeL2U7zXT5XF5w68q24Uyf2cdzUkSaA67iPxSajNt/XsYbddvXtAOaK0PkOg+tlaTQTzFb9w1kA9/D6PwXXbRbwpvqyDtDN8DL3H4gqwCi+d2nldduxMqsK8BAvegTwCM/rR/EnXOsRwOcyq2kMu87Td4C/SPM4IYgwSX8AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA40lEQVRYR+3VbQqDMAwG4NebbSfbdjNvtvEOMmyNNv1Iuh8GRIRSn8YkLgDe8InFsi0X/R1gBfACwHtLyIG6M9AKGQaQ09dChgNqIW4AgZS+7QXIM/AEwEuNljlQ+wkIYlurCA9AflLJCAGEJBEJ4It3iB5A6whPEDMASSZmAX5FOQOQdEQPwPqn3NbKrh0jAeos8ADkk5DP6gxgCiMAD20Abf9stf1cO4pPayUiAxdgeAas/V+qle8+LTUwHHADwFbh3RKmk1k2kgzIWivEDWCFuANKkDDAESQckEPu1gKzrPsAkIdMIcrbnqYAAAAASUVORK5CYII="},,function(e,t,a){e.exports=a.p+"static/media/Google__G__Logo.f6ce5696.svg"},function(e,t,a){e.exports=a.p+"static/media/anonymous.1dcef966.png"},function(e,t,a){e.exports={footer:"Footer_footer__1w0lV"}},function(e,t,a){e.exports=a(75)},,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(29),c=a.n(r),i=a(23),l=a.n(i),s=a(31),u=a(8),m=a(6),d=a(17),p=a.n(d),g=a(45),b=a.n(g),f=a(46),h=a.n(f),E=a(47),v=a.n(E),A=a(48),_=a.n(A),N=a(10),C=Object(N.b)((function(e){return{authenticated:e.authReducer.authenticated,authModal:e.authReducer.authModal,burgerState:e.burgerMenuReducer.burgerState}}),(function(e){return{onAuthenticate:function(){return e({type:"AUTHENTICATE"})},onActivateModal:function(){return e({type:"ACTIVATE"})},openBurgerMenu:function(){return e({type:"OPEN"})},closeBurgerMenu:function(){return e({type:"CLOSE"})}}}))((function(e){return o.a.createElement("nav",{className:p.a.navbar},o.a.createElement(u.b,{to:"/"},o.a.createElement("div",{className:p.a.logoContainer},o.a.createElement("img",{src:b.a,alt:"Inicio"}))),o.a.createElement("div",{onClick:e.onActivateModal,className:!1===e.authenticated?"".concat(p.a.authenticationIcon," active"):"".concat(p.a.authenticationIcon," inactive")},o.a.createElement("img",{src:v.a,alt:"authentication icon"})),o.a.createElement("div",{onClick:function(t){t.preventDefault(),e.signOut()},className:!1===e.authenticated?"".concat(p.a.authenticationIcon," inactive"):"".concat(p.a.authenticationIcon," active")},o.a.createElement("img",{src:_.a,alt:"authentication icon"})),o.a.createElement("div",{onClick:"closed"===e.burgerState?e.openBurgerMenu:e.closeBurgerMenu,className:p.a.burgerMenuIcon},o.a.createElement("img",{src:h.a,alt:"burger menu icon"})),o.a.createElement("ul",{id:p.a.burgerMenu,className:"closed"===e.burgerState?p.a.closedMenu:p.a.openMenu},o.a.createElement("h1",{onClick:function(){return e.closeBurgerMenu()},className:p.a.closeBurgerIcon},"\xd7"),o.a.createElement(u.b,{to:"/"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Inicio"))),o.a.createElement(u.b,{to:"/tips"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Tips"))),o.a.createElement(u.b,{to:"/cuarentena"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Cuarentena"))),o.a.createElement(u.b,{to:"/adopci\xf3n"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Adopci\xf3n"))),o.a.createElement(u.b,{to:"/servicios"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Servicios"))),o.a.createElement(u.b,{to:"/concurso"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Concurso"))),e.authenticated?o.a.createElement(u.b,{to:"/panel-de-control"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Panel de control"))):null))})),M=a(32),w=a(5),S=a(3),y=a.n(S),O=a(50),I=a.n(O),P=a(40);a(73);P.initializeApp({apiKey:"AIzaSyA8PUJL2pZj7Vy0602V22CkvLmgyRwCnYY",authDomain:"paw-lovers-2.firebaseapp.com",databaseURL:"https://paw-lovers-2.firebaseio.com",projectId:"paw-lovers-2",storageBucket:"paw-lovers-2.appspot.com",messagingSenderId:"443458945688",appId:"1:443458945688:web:f229528639de085d3446ed"});var k=P,U=(k.firestore(),k.auth()),j=Object(N.b)((function(e){return{authenticated:e.authReducer.authenticated,authModal:e.authReducer.authModal,failedAuthMessage:e.authReducer.errorMessage}}),(function(e){return{onActivateModal:function(){return e({type:"ACTIVATE"})}}}))((function(e){var t=Object(n.useState)("sign-in"),a=Object(w.a)(t,2),r=a[0],c=a[1],i=Object(n.useRef)(""),l=Object(n.useRef)(""),s=Object(n.useRef)(""),u=Object(n.useRef)(""),m=Object(n.useRef)(""),d=function(e){"sign-up-form"===e.target.id?c("sign-up"):c("sign-in")},p=null;e.authenticated?p=o.a.createElement("p",{className:y.a.successMessage},"Bienvenido a Paw Lovers, ".concat(U.currentUser.displayName)):!1===e.authenticated&&void 0!==e.failedAuthMessage&&(p=o.a.createElement("p",{className:y.a.failMessage},e.failedAuthMessage));var g=function(){i.current.value="",l.current.value="",s.current.value="",u.current.value="",m.current.value=""};return o.a.createElement("article",{className:!1===e.authModal?"".concat(y.a.modalWrapper," inactive"):"".concat(y.a.modalWrapper," active")},o.a.createElement("h1",{onClick:e.onActivateModal,className:y.a.closeModalIcon},"\xd7"),o.a.createElement("section",{className:y.a.modal},o.a.createElement("header",{className:y.a.modalHeader},o.a.createElement("nav",{className:y.a.modalNavbar},o.a.createElement("p",Object(M.a)({id:"sign-in-form",onClick:function(e){return d(e)},className:y.a.activeTab},"className","".concat("sign-in"===r?y.a.activeTab:y.a.inactiveTab)),"Iniciar sesi\xf3n"),o.a.createElement("p",{id:"sign-up-form",onClick:function(e){return d(e)},className:"".concat("sign-up"===r?y.a.activeTab:y.a.inactiveTab)},"Registro"))),o.a.createElement("section",{className:y.a.modalContent},o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.signIn(t),g()},className:"sign-up"===r?"".concat(y.a.signInForm," ").concat(y.a.inactive):"".concat(y.a.signInForm," ").concat(y.a.active)},o.a.createElement("input",{ref:i,type:"email",name:"signinemail",placeholder:"Correo",required:!0}),o.a.createElement("input",{ref:l,type:"password",name:"signinpassword",placeholder:"Contrase\xf1a",required:!0}),o.a.createElement("button",{type:"submit",className:"custom-btn green-btn ".concat(y.a.btn)},"Iniciar sesi\xf3n"),o.a.createElement("button",{className:y.a.googleBtn,onClick:e.signInGoogle},o.a.createElement("img",{src:I.a,alt:""}))),o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.signUp(t),g()},className:"sign-in"===r?"".concat(y.a.signUpForm," ").concat(y.a.inactive):"".concat(y.a.signUpForm," ").concat(y.a.active)},o.a.createElement("input",{ref:s,type:"text",name:"signup-username",placeholder:"Nombre de usuario",required:!0}),o.a.createElement("input",{ref:u,type:"email",name:"signupemail",placeholder:"Correo",required:!0}),o.a.createElement("input",{ref:m,type:"password",name:"signuppassword",placeholder:"Contrase\xf1a",required:!0}),o.a.createElement("button",{type:"submit",className:"custom-btn green-btn ".concat(y.a.btn)},"Registrarse")),p)))})),T=a(34),B=a.n(T),R=k.firestore(),x=k.auth(),D=function(e){var t=Object(n.useState)(""),a=Object(w.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),l=Object(w.a)(i,2),s=l[0],u=l[1],d=Object(n.useState)(!1),p=Object(w.a)(d,2),g=p[0],b=p[1];console.log(r),console.log(e.location);return o.a.createElement("main",{className:B.a.newPost},g?o.a.createElement(m.a,{to:"/"}):null,s?o.a.createElement(m.a,{to:"/404"}):null,o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e){var t=e.target["post-category"].value,a=e.target["post-title"].value,n=e.target["post-content"].value;x.currentUser?R.collection("Posts").add({uid:x.currentUser.uid,author:x.currentUser.displayName,category:t,title:a,content:n,likes:[],comments:{},timestamp:k.firestore.FieldValue.serverTimestamp()}).then((function(){console.log("Publicaci\xf3n creada correctamente"),c("Publicaci\xf3n creada correctamente"),setTimeout((function(){b(!0)}),1e3)})).catch((function(e){console.log(e.message),c("".concat(e.message))})):(u(!0),console.log("No hay ning\xfan usuario conectado, por favor inicia sesi\xf3n y vuelve a intentarlo"))}(e)}},o.a.createElement("div",{className:B.a.categoryContainer},o.a.createElement("select",{name:"post-category",required:!0},o.a.createElement("option",{disabled:!0,defaultValue:"Selecciona"},"Selecciona la categor\xeda..."),o.a.createElement("option",{value:"tips"},"Tips"),o.a.createElement("option",{value:"cuarentena"},"Cuarentena"),o.a.createElement("option",{value:"adopci\xf3n"},"Adopci\xf3n"),o.a.createElement("option",{value:"servicios"},"Servicios"))),o.a.createElement("input",{name:"post-title",type:"text",placeholder:"T\xedtulo",required:!0}),o.a.createElement("textarea",{name:"post-content",type:"text",placeholder:"Escribe aqu\xed",required:!0}),o.a.createElement("button",{className:"custom-btn green-btn",type:"submit"},"Publicar")),o.a.createElement("p",{className:B.a.infoMessage},r))},F=a(27),L=a.n(F),W=a(51),q=a.n(W),H=(k.firestore(),k.auth()),V=Object(N.b)((function(e){return{userName:e.authReducer.userName,userId:e.authReducer.userId,userEmail:e.authReducer.userEmail}}))((function(e){var t=Object(n.useState)(null!==H.currentUser.photoURL?H.currentUser.photoURL:q.a),a=Object(w.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(null),u=Object(w.a)(i,2),m=u[0],d=u[1],p=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],n=k.storage().ref(),o=n.child(a.name),e.next=5,o.put(a);case 5:return e.t0=c,e.next=8,o.getDownloadURL();case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=k.auth.EmailAuthProvider.credential(H.currentUser.email,e);return H.currentUser.reauthenticateWithCredential(t)};return o.a.createElement("main",{className:L.a.controlPanelContainer},o.a.createElement("h1",{className:L.a.controlPanelHeading},"Editar perfil"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e){var t=e.target.newusername.value,a=e.target.newemail.value,n=e.target.currentpassword.value;H.currentUser.updateProfile({displayName:t,photoURL:r}).then((function(){console.log(H.currentUser)})),g(n).then((function(){H.currentUser.updateEmail(a)})).then((function(){d("Se actualiz\xf3 la informaci\xf3n correctamente. Podr\xe1s ver los cambios al refrescar la p\xe1gina.")})).catch((function(e){d("".concat(e.message))}))}(e)},className:L.a.controlPanelForm},o.a.createElement("div",{className:L.a.profilePic},o.a.createElement("img",{src:r,alt:"Foto de perfil del usuario"})),o.a.createElement("input",{type:"file",onChange:function(e){return p(e)}}),o.a.createElement("p",null,H.currentUser.displayName),o.a.createElement("input",{type:"text",name:"newusername",placeholder:"Nuevo nombre de usuario"}),o.a.createElement("p",null,H.currentUser.email),o.a.createElement("input",{type:"email",name:"newemail",placeholder:"Nuevo correo"}),o.a.createElement("input",{type:"password",name:"currentpassword",placeholder:"Contrase\xf1a actual"}),o.a.createElement("button",{type:"submit",className:"custom-btn green-btn"},"Guardar")),o.a.createElement("p",{style:{color:"#8BC34A",textAlign:"center",fontWeight:"bold"}},m))})),Q=a(12),z=a.n(Q),G=a(33),Y=a.n(G),K=(k.firestore(),k.auth()),J=Object(N.b)((function(e){return{authenticated:e.authReducer.authenticated,userId:e.authReducer.userId}}))((function(e){var t=Object(n.useState)({pawActivation:!1}),a=Object(w.a)(t,2),r=a[0],c=a[1];return o.a.createElement("article",{onClick:function(t){t.preventDefault(),e.updateOrDelete(t)},"data-userid":e.uid,"data-postid":e.id,"data-posttitle":e.title,"data-postcontent":e.content,className:z.a.post},o.a.createElement("section",{className:z.a.postContent},o.a.createElement("h4",{name:"post-title",className:z.a.heading},e.title),o.a.createElement("div",{className:z.a.innerContent},o.a.createElement("div",{className:!0===e.authenticated&&e.userId===e.uid?"".concat(z.a.pawContainer," active"):"".concat(z.a.pawContainer," hidden")},o.a.createElement("img",{onClick:function(e){return function(e){c({pawId:e.target.id,pawActivation:!1===r.pawActivation})}(e)},id:e.id,src:Y.a,alt:"Imagen de patita de perro para eliminar o editar publicaci\xf3n"}),o.a.createElement("div",{className:r.pawActivation?"active":"hidden"},o.a.createElement("button",{id:"update"},"Actualizar"),o.a.createElement("button",{id:"delete"},"Eliminar"))),o.a.createElement("div",{className:z.a.data},o.a.createElement("p",{className:z.a.heading},"Categor\xeda: ",e.category),o.a.createElement("p",{className:z.a.heading},"Autor: ",e.author),o.a.createElement("p",{className:z.a.heading},"Me gusta: ",e.likes.length),o.a.createElement("p",{className:z.a.heading},"Publicado: ",e.date),o.a.createElement("p",{name:"post-content",className:z.a.contentArea},e.content)))),o.a.createElement("div",{className:z.a.interactionContainer},o.a.createElement("button",{onClick:function(t){t.preventDefault(),e.clicked(t)},className:null!==K.currentUser?"custom-btn green-btn":"inactive"},"Me gusta/Ya no me gusta"),o.a.createElement("button",{className:"custom-btn green-btn"},"Comentar"),o.a.createElement("button",{className:"custom-btn green-btn"},"Compartir")))})),X=a(41),Z=a.n(X),$=function(e){var t,a=e.data().timestamp.toDate().toString().split(" ");switch(a[1]){case"Jan":t="Enero";break;case"Feb":t="Febrero";break;case"Mar":t="Marzo";break;case"Apr":t="Abril";break;case"May":t="Mayo";break;case"Jun":t="Junio";break;case"Jul":t="Julio";break;case"Aug":t="Agosto";break;case"Sep":t="Septiembre";break;case"Oct":t="Octubre";break;case"Nov":t="Noviembre";break;case"Dec":t="Dicimebre";break;default:t="Mes"}return"".concat(a[2]," de ").concat(t," del ").concat(a[3]," a las ").concat(a[4])},ee=a(21),te=a.n(ee),ae=k.firestore(),ne=(k.auth(),function(e){var t=Object(n.useState)(""),a=Object(w.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){c({title:e.modalState.postTitle,content:e.modalState.postContent})}),[c,e.modalState.postId]),console.log(r),o.a.createElement("article",{className:!0===e.modalState.modalState?"".concat(te.a.modalWrapper," ").concat(te.a.active):"".concat(te.a.modalWrapper," ").concat(te.a.inactive)},o.a.createElement("p",{className:te.a.closeModalBtn,onClick:function(){e.setModalState({modalState:!1})}},"\xd7"),o.a.createElement("section",{className:te.a.modalContent},o.a.createElement("form",{id:e.modalState.id,onSubmit:function(t){t.preventDefault(),function(t){console.log(t.target);var a=t.target["post-title"].value,n=t.target["post-content"].value;console.log(a,n),ae.collection("Posts").doc("".concat(e.modalState.postId)).update({title:a,content:n}).then((function(t){e.setModalState({modalState:!1})}))}(t)}},o.a.createElement("input",{name:"post-title",type:"text",defaultValue:r.title}),o.a.createElement("textarea",{name:"post-content",cols:"30",rows:"10",defaultValue:r.content}),o.a.createElement("button",{type:"submit",className:"custom-btn green-btn"},"Actualizar")),o.a.createElement("p",null,e.successMessage)))}),oe=a(18),re=a.n(oe),ce=k.firestore(),ie=(k.auth(),function(e){var t=Object(n.useState)(""),a=Object(w.a)(t,2),r=a[0],c=a[1],i=function(){e.setConfirmationState({modalState:!1})};return o.a.createElement("article",{className:e.confirmationState.modalState?"".concat(re.a.modalWrapper," ").concat(re.a.active):"".concat(re.a.modalWrapper," ").concat(re.a.inactive)},o.a.createElement("p",{className:re.a.closeModalBtn,onClick:function(){return i()}},"\xd7"),o.a.createElement("section",{className:re.a.modal},o.a.createElement("section",{className:re.a.modalContent},o.a.createElement("h5",null,"\xbfEst\xe1s seguro de que quieres eliminar esta publicaci\xf3n?"),o.a.createElement("div",{className:re.a.actionController},o.a.createElement("button",{onClick:function(){ce.collection("Posts").doc("".concat(e.confirmationState.postId)).delete().then((function(){c("Publicaci\xf3n eliminada correctamente."),setTimeout((function(){c(""),e.setConfirmationState({modalState:!1})}),1e3)})).catch((function(e){c(e.message)}))},className:"custom-btn warning-btn"},"Eliminar"),o.a.createElement("button",{onClick:function(){return i()},className:"custom-btn green-btn"},"Cancelar")),o.a.createElement("p",{className:re.a.actionMessage},r))))}),le=k.firestore(),se=(k.auth(),Object(N.b)((function(e){return{authenticated:e.authReducer.authenticated,userId:e.authReducer.userId,burgerState:e.burgerMenuReducer.burgerState}}),(function(e){return{openBurgerMenu:function(){return e({type:"OPEN"})},closeBurgerMenu:function(){return e({type:"CLOSE"})}}}))((function(e){var t=Object(n.useState)([]),a=Object(w.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),l=Object(w.a)(i,2),s=(l[0],l[1],Object(n.useState)({modalState:!1})),d=Object(w.a)(s,2),p=d[0],g=d[1],b=Object(n.useState)(!1),f=Object(w.a)(b,2),h=f[0],E=(f[1],Object(n.useState)(!1)),v=Object(w.a)(E,2),A=v[0],_=(v[1],Object(n.useState)({modalState:!1})),N=Object(w.a)(_,2),C=N[0],M=N[1];Object(n.useEffect)((function(){e.closeBurgerMenu();var t,a=null;"/"===window.location.pathname?(console.log("posts antes de llenado",t),a=le.collection("Posts").orderBy("timestamp","desc").onSnapshot((function(e){t=[],e.forEach((function(e){!e.data().timestamp&&e.metadata.hasPendingWrites&&console.log("EL DOCUMENTO TIENE LA HORA PENDIENTE",e.data().id),e.metadata.hasPendingWrites&&console.log("algo est\xe1 pendiente!!",e.data().title,e.data().likes);var a={id:e.id,author:e.data().author,uid:e.data().uid,category:e.data().category,comments:e.data().comments,content:e.data().content,likes:e.data().likes,timestamp:!e.data().timestamp&&e.metadata.hasPendingWrites?"Hora en proceso":$(e),title:e.data().title};t.push(a)})),console.log("LIKE GENER\xd3 EJECUCI\xd3N DE ONSNAPSHOT!!!"),c(t)}))):le.collection("Posts").where("category","==","".concat(e.match.params.category)).orderBy("timestamp","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var a={id:e.id,author:e.data().author,uid:e.data().uid,category:e.data().category,comments:e.data().comments,content:e.data().content,likes:e.data().likes,timestamp:!e.data().timestamp&&e.metadata.hasPendingWrites?"Hora en proceso":$(e),title:e.data().title};t.push(a)})),c(t)}));if(null!==a)return function(){a()}}),[c,e.match.params.category]);var S,y=function(e){e.target.parentElement.parentElement.getAttribute("data-userid");var t=e.target.parentElement.parentElement.getAttribute("data-postid");le.collection("Posts").doc("".concat(t)).get().then((function(e){var a=e.data().likes;console.log(a);var n=a.includes("".concat(k.auth().currentUser.displayName));console.log(n),!0===n?le.collection("Posts").doc("".concat(t)).update({likes:k.firestore.FieldValue.arrayRemove("".concat(k.auth().currentUser.displayName))}):!1===n&&le.collection("Posts").doc("".concat(t)).update({likes:k.firestore.FieldValue.arrayUnion("".concat(k.auth().currentUser.displayName))})}))};S=r.map((function(t){return o.a.createElement(J,{updateOrDelete:function(t){return function(t){var a=t.currentTarget.getAttribute("data-postid"),n=t.currentTarget.getAttribute("data-userid");if("delete"===t.target.id&&e.userId===n?(console.log("tienes permiso para eliminar el post"),M({modalState:!0,postId:a})):"delete"===t.target.id&&e.userId!==n&&console.log("no tienes permiso para eliminar el post"),"update"===t.target.id&&e.userId===n){var o=t.currentTarget.getAttribute("data-posttitle"),r=t.currentTarget.getAttribute("data-postcontent");g({modalState:!0,postTitle:o,postContent:r,postId:a})}else"update"===t.target.id&&e.userId===n&&console.log("no tienes permiso para actualizar el post")}(t)},key:t.id,category:t.category,author:t.author,title:t.title,content:t.content,likes:t.likes,comments:t.comments,date:t.timestamp,id:t.id,uid:t.uid,clicked:y})}));var O=null;return O=!1===e.authenticated?null:!0===e.authenticated&&void 0!==e.match.params.category?o.a.createElement(u.b,{to:"".concat(e.match.params.category,"/nueva-publicaci\xf3n")},o.a.createElement("button",{className:"custom-btn green-btn"},"Nueva publicaci\xf3n")):o.a.createElement(u.b,{to:"/nueva-publicaci\xf3n"},o.a.createElement("button",{className:"custom-btn green-btn"},"Nueva publicaci\xf3n")),console.log(S),console.log(e.burgerState),o.a.createElement("main",{className:Z.a.postsContainer},h?o.a.createElement(m.a,{to:"/404"}):null,o.a.createElement(ne,{modalState:p,setModalState:g,successMessage:A}),o.a.createElement(ie,{confirmationState:C,setConfirmationState:M}),o.a.createElement("section",{className:Z.a.newPostControl},O),S)}))),ue=a(52),me=a.n(ue),de=function(e){return o.a.createElement("footer",{className:me.a.footer},o.a.createElement("p",null,"v2.0 Implementada por Loreto Guti\xe9rrez H."))},pe=(a(35),k.firestore(),k.auth()),ge=Object(N.b)((function(e){return{authenticated:e.authReducer.authenticated,authModal:e.authReducer.authModal,failedAuthMessage:e.authReducer.errorMessage}}),(function(e){return{onAuthenticate:function(t,a,n,o){return e({type:"AUTHENTICATE",value:t,userName:a,userId:n,userEmail:o})},onActivateModal:function(){return e({type:"ACTIVATE"})},onFailedAuthentication:function(t){return e({type:"FAILEDAUTH",value:t})}}}))((function(e){var t=function(){var t=Object(s.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=new k.auth.GoogleAuthProvider,t.next=4,k.auth().signInWithPopup(a);case 4:e.onAuthenticate(!0),setTimeout((function(){e.onActivateModal()}),3e3),console.log("Sesi\xf3n iniciada con Google correctamente"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e.onFailedAuthentication(t.t0.message),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return pe.onAuthStateChanged((function(t){null!==t?e.onAuthenticate(!0,pe.currentUser.displayName,pe.currentUser.uid,pe.currentUser.email):e.onAuthenticate(!1)})),o.a.createElement(u.a,null,o.a.createElement(C,{signOut:function(){pe.signOut(),e.onAuthenticate(!1),console.log("Sesi\xf3n cerrada",pe.currentUser)}}),o.a.createElement(j,{signInGoogle:t,signIn:function(t){var a=t.target.signinemail.value,n=t.target.signinpassword.value;pe.signInWithEmailAndPassword("".concat(a),"".concat(n)).then((function(t){e.onAuthenticate(!0),setTimeout((function(){e.onActivateModal()}),2e3)})).catch((function(t){e.onFailedAuthentication(t.message),console.log(t.message)}))},signUp:function(t){var a=t.target["signup-username"].value,n=t.target.signupemail.value,o=t.target.signuppassword.value;pe.createUserWithEmailAndPassword("".concat(n),"".concat(o)).then((function(t){t.user.updateProfile({displayName:a}),console.log("Se acaba de registrar un nuevo usuario con correo ".concat(t)),e.onAuthenticate(!0),setTimeout((function(){e.onActivateModal()}),2e3)})).catch((function(t){e.onFailedAuthentication(t.message),console.log(t)}))}}),o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/",component:se,exact:!0}),o.a.createElement(m.b,{path:"/panel-de-control",component:V},!1===e.authenticated?o.a.createElement(m.a,{to:"/"}):null),o.a.createElement(m.b,{path:"/:category/nueva-publicaci\xf3n",component:D},!1===e.authenticated?o.a.createElement(m.a,{to:"/"}):null),o.a.createElement(m.b,{path:"/nueva-publicaci\xf3n",component:D},!1===e.authenticated?o.a.createElement(m.a,{to:"/"}):null),o.a.createElement(m.b,{path:"/:category",component:se})),o.a.createElement("div",null),o.a.createElement(de,null))}));a(74),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var be=a(26),fe=a(15),he=function(e){switch(e){case"The password is invalid or the user does not have a password.":return"La contrase\xf1a no es v\xe1lida o el usuario no tiene una contrase\xf1a.";case"There is no user record corresponding to this identifier. The user may have been deleted.":return"No existen registros asociados con este correo electr\xf3nico, puede que el usuario haya sido eliminado.";case"The email address is already in use by another account.":return"Este correo electr\xf3nico ya est\xe1 asociado a una cuenta de Paw Lovers.";case"Password should be at least 6 characters":return"La contrase\xf1a debe tener 6 caracteres como m\xednimo";case"The email address is badly formatted.":return"El correo tiene un formato no permitido";case"The popup has been closed by the user before finalizing the operation.":return"El usuario cerr\xf3 la ventana antes de finalizar el inicio de sesi\xf3n con Google.";default:return e}},Ee={authenticated:!1,authModal:!1},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;return"AUTHENTICATE"===t.type?Object(fe.a)(Object(fe.a)({},e),{},{authenticated:t.value,userName:t.userName,userId:t.userId,userEmail:t.userEmail}):"ACTIVATE"===t.type?Object(fe.a)(Object(fe.a)({},e),{},{authModal:!1===e.authModal}):"FAILEDAUTH"===t.type?Object(fe.a)(Object(fe.a)({},e),{},{authenticated:!1,errorMessage:he(t.value)}):e},Ae={burgerState:"closed"},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;return"OPEN"===t.type?Object(fe.a)(Object(fe.a)({},e),{},{burgerState:"open"}):"CLOSE"===t.type?Object(fe.a)(Object(fe.a)({},e),{},{burgerState:"closed"}):e},Ne=Object(be.b)({authReducer:ve,burgerMenuReducer:_e}),Ce=Object(be.c)(Ne);c.a.render(o.a.createElement(N.a,{store:Ce},o.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[53,1,2]]]);
//# sourceMappingURL=main.1883ddff.chunk.js.map