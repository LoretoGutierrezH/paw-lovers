(this["webpackJsonppaw-lovers"]=this["webpackJsonppaw-lovers"]||[]).push([[0],[,,,function(e,t,a){e.exports={modalWrapper:"AuthModal_modalWrapper__2_abP",modal:"AuthModal_modal__1ADVU",activeTab:"AuthModal_activeTab__3xUEb",inactiveTab:"AuthModal_inactiveTab__3OfYM",closeModalIcon:"AuthModal_closeModalIcon__3DvwF",modalContent:"AuthModal_modalContent__2Y2qo",signInForm:"AuthModal_signInForm__UkIHQ",signUpForm:"AuthModal_signUpForm__35SLS",btn:"AuthModal_btn__2zMa9",active:"AuthModal_active__1xGQF",inactive:"AuthModal_inactive__2WoUT",googleBtn:"AuthModal_googleBtn__2mgzF",successMessage:"AuthModal_successMessage__1g8dx",failMessage:"AuthModal_failMessage__1qeyt"}},,,,,,,,,function(e,t,a){e.exports={post:"Post_post__3iLUm",heading:"Post_heading__121Rf",contentArea:"Post_contentArea__IzsQf",interactionContainer:"Post_interactionContainer__CwChw",innerContent:"Post_innerContent__15rGe",pawContainer:"Post_pawContainer__3rfXf"}},,,,,function(e,t,a){e.exports={navbar:"NavBar_navbar__7ck23",logoContainer:"NavBar_logoContainer__3qsbf",authenticationIcon:"NavBar_authenticationIcon__1qNa9",burgerMenuIcon:"NavBar_burgerMenuIcon__2S-Jo",burgerMenu:"NavBar_burgerMenu__nboKN",closedMenu:"NavBar_closedMenu__2r1c3",openMenu:"NavBar_openMenu__xFyOZ",closeBurgerIcon:"NavBar_closeBurgerIcon__3w84i"}},function(e,t,a){e.exports={modalWrapper:"ConfirmationModal_modalWrapper__1aQXU",modal:"ConfirmationModal_modal__3xCAE",modalContent:"ConfirmationModal_modalContent__1Lqk9",actionController:"ConfirmationModal_actionController__1mZVP",actionMessage:"ConfirmationModal_actionMessage__2x6tl",active:"ConfirmationModal_active__3hqub",inactive:"ConfirmationModal_inactive__2vhSr",closeModalBtn:"ConfirmationModal_closeModalBtn__2KLHk"}},,,function(e,t,a){e.exports={modalWrapper:"UpdatePostModal_modalWrapper__67eF9",active:"UpdatePostModal_active__2vu4Y",inactive:"UpdatePostModal_inactive__2JWpa",closeModalBtn:"UpdatePostModal_closeModalBtn___pNFr"}},,,,,function(e,t,a){e.exports={controlPanelContainer:"ControlPanel_controlPanelContainer__3S-Fy",controlPanelForm:"ControlPanel_controlPanelForm__1KloN",controlPanelHeading:"ControlPanel_controlPanelHeading__mx3--",profilePic:"ControlPanel_profilePic__2Nbq2"}},,,,,function(e,t,a){e.exports=a.p+"static/media/Paw.bfee87e0.png"},function(e,t,a){e.exports={newPost:"NewPost_newPost__5oKt7",categoryContainer:"NewPost_categoryContainer__2uiQF",infoMessage:"NewPost_infoMessage__2c6Wz"}},function(e,t,a){e.exports={errorTemplate:"Error404_errorTemplate__6DfXC",errorMessage:"Error404_errorMessage__1Nc86"}},,,,,,,function(e,t,a){e.exports={postsContainer:"Posts_postsContainer__2FSWR",newPostControl:"Posts_newPostControl__3jcq1"}},,,,function(e,t,a){e.exports=a.p+"static/media/logoPawLovers.4d481848.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAARUlEQVRYR+3U0QkAIAgFQN1/6IL6aQIVOhd4cujLaJ5szg8LEHgFVvFBnmwLEBglUPwEN25UEekBAgT0gBsgQEAP/CmwAdmEEiEL49BKAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABlElEQVRYR+3UsUtVYRjH8c9dmxyEpsBNdDCDHAIJgyaxICxnQ/+BoCUarCWCwL+g0LlwSBwajEQiIhSHMBrDxSmipdV44Rw5Hbyc5712713ugQOHc37P7/d9n/M+b0ufr1af8w0AOunALO7gKkaKX/gD77GNdzm/NRdgBU8aAp4GNKcWOQBX8BEXGgD+YBoHkU7kADzAasQUj/Esos0B2MStiGmxH25GtDkAJxHDiibkHRIVpgOAvnfgF4aC++B3VJuzB9JcTwYBvmIios0BeImliCleYTmizQGYwYeIKW5gJ6LNAUh+b3G7wXgDdyPhSZMLcAlHDebD+NktgOQ7hS9tAsKtL+tzO1DWjeOwBpHA9qIrPy9Aqq8fTB0tJlp0EZeL2U7zXT5XF5w68q24Uyf2cdzUkSaA67iPxSajNt/XsYbddvXtAOaK0PkOg+tlaTQTzFb9w1kA9/D6PwXXbRbwpvqyDtDN8DL3H4gqwCi+d2nldduxMqsK8BAvegTwCM/rR/EnXOsRwOcyq2kMu87Td4C/SPM4IYgwSX8AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA40lEQVRYR+3VbQqDMAwG4NebbSfbdjNvtvEOMmyNNv1Iuh8GRIRSn8YkLgDe8InFsi0X/R1gBfACwHtLyIG6M9AKGQaQ09dChgNqIW4AgZS+7QXIM/AEwEuNljlQ+wkIYlurCA9AflLJCAGEJBEJ4It3iB5A6whPEDMASSZmAX5FOQOQdEQPwPqn3NbKrh0jAeos8ADkk5DP6gxgCiMAD20Abf9stf1cO4pPayUiAxdgeAas/V+qle8+LTUwHHADwFbh3RKmk1k2kgzIWivEDWCFuANKkDDAESQckEPu1gKzrPsAkIdMIcrbnqYAAAAASUVORK5CYII="},,function(e,t,a){e.exports=a.p+"static/media/Google__G__Logo.f6ce5696.svg"},function(e,t,a){e.exports=a.p+"static/media/anonymous.1dcef966.png"},function(e,t,a){e.exports={footer:"Footer_footer__1w0lV"}},function(e,t,a){e.exports=a(74)},,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(28),r=a.n(c),i=a(35),l=a.n(i),s=a(43),u=a(8),m=a(5),d=a(17),p=a.n(d),g=a(44),E=a.n(g),b=a(45),h=a.n(b),f=a(46),A=a.n(f),v=a(47),_=a.n(v),N=a(10),C=Object(N.b)((function(e){return{authenticated:e.authReducer.authenticated,authModal:e.authReducer.authModal,burgerState:e.burgerMenuReducer.burgerState}}),(function(e){return{onAuthenticate:function(){return e({type:"AUTHENTICATE"})},onActivateModal:function(){return e({type:"ACTIVATE"})},openBurgerMenu:function(){return e({type:"OPEN"})},closeBurgerMenu:function(){return e({type:"CLOSE"})}}}))((function(e){return o.a.createElement("nav",{className:p.a.navbar},o.a.createElement(u.b,{to:"/"},o.a.createElement("div",{className:p.a.logoContainer},o.a.createElement("img",{src:E.a,alt:"Inicio"}))),o.a.createElement("div",{onClick:e.onActivateModal,className:!1===e.authenticated?"".concat(p.a.authenticationIcon," active"):"".concat(p.a.authenticationIcon," inactive")},o.a.createElement("img",{src:A.a,alt:"authentication icon"})),o.a.createElement("div",{onClick:function(t){t.preventDefault(),e.signOut()},className:!1===e.authenticated?"".concat(p.a.authenticationIcon," inactive"):"".concat(p.a.authenticationIcon," active")},o.a.createElement("img",{src:_.a,alt:"authentication icon"})),o.a.createElement("div",{onClick:"closed"===e.burgerState?e.openBurgerMenu:e.closeBurgerMenu,className:p.a.burgerMenuIcon},o.a.createElement("img",{src:h.a,alt:"burger menu icon"})),o.a.createElement("ul",{id:p.a.burgerMenu,className:"closed"===e.burgerState?p.a.closedMenu:p.a.openMenu},o.a.createElement("h1",{onClick:function(){return e.closeBurgerMenu()},className:p.a.closeBurgerIcon},"\xd7"),o.a.createElement(u.b,{to:"/"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Inicio"))),o.a.createElement(u.b,{to:"/tips"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Tips"))),o.a.createElement(u.b,{to:"/cuarentena"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Cuarentena"))),o.a.createElement(u.b,{to:"/adopci\xf3n"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Adopci\xf3n"))),o.a.createElement(u.b,{to:"/servicios"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Servicios"))),o.a.createElement(u.b,{to:"/concurso"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Concurso"))),e.authenticated?o.a.createElement(u.b,{to:"/panel-de-control"},o.a.createElement("li",{className:"icon-container"},o.a.createElement("p",null,"Panel de control"))):null))})),M=a(30),S=a(6),w=a(3),I=a.n(w),y=a(49),O=a.n(y),P=a(39);P.initializeApp({apiKey:"AIzaSyA8PUJL2pZj7Vy0602V22CkvLmgyRwCnYY",authDomain:"paw-lovers-2.firebaseapp.com",databaseURL:"https://paw-lovers-2.firebaseio.com",projectId:"paw-lovers-2",storageBucket:"paw-lovers-2.appspot.com",messagingSenderId:"443458945688",appId:"1:443458945688:web:f229528639de085d3446ed"});var k=P,T=(k.firestore(),k.auth()),B=Object(N.b)((function(e){return{authenticated:e.authReducer.authenticated,authModal:e.authReducer.authModal,failedAuthMessage:e.authReducer.errorMessage}}),(function(e){return{onActivateModal:function(){return e({type:"ACTIVATE"})}}}))((function(e){var t=Object(n.useState)("sign-in"),a=Object(S.a)(t,2),c=a[0],r=a[1],i=function(e){"sign-up-form"===e.target.id?r("sign-up"):r("sign-in")},l=null;return e.authenticated?l=o.a.createElement("p",{className:I.a.successMessage},"Bienvenido a Paw Lovers, ".concat(T.currentUser.displayName)):!1===e.authenticated&&void 0!==e.failedAuthMessage&&(l=o.a.createElement("p",{className:I.a.failMessage},e.failedAuthMessage)),o.a.createElement("article",{className:!1===e.authModal?"".concat(I.a.modalWrapper," inactive"):"".concat(I.a.modalWrapper," active")},o.a.createElement("h1",{onClick:e.onActivateModal,className:I.a.closeModalIcon},"\xd7"),o.a.createElement("section",{className:I.a.modal},o.a.createElement("header",{className:I.a.modalHeader},o.a.createElement("nav",{className:I.a.modalNavbar},o.a.createElement("p",Object(M.a)({id:"sign-in-form",onClick:function(e){return i(e)},className:I.a.activeTab},"className","".concat("sign-in"===c?I.a.activeTab:I.a.inactiveTab)),"Iniciar sesi\xf3n"),o.a.createElement("p",{id:"sign-up-form",onClick:function(e){return i(e)},className:"".concat("sign-up"===c?I.a.activeTab:I.a.inactiveTab)},"Registro"))),o.a.createElement("section",{className:I.a.modalContent},o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.signIn(t)},className:"sign-up"===c?"".concat(I.a.signInForm," ").concat(I.a.inactive):"".concat(I.a.signInForm," ").concat(I.a.active)},o.a.createElement("input",{type:"email",name:"email",placeholder:"Correo",required:!0}),o.a.createElement("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",required:!0}),o.a.createElement("button",{type:"submit",className:"custom-btn green-btn ".concat(I.a.btn)},"Iniciar sesi\xf3n"),o.a.createElement("button",{className:I.a.googleBtn,onClick:e.signInGoogle},o.a.createElement("img",{src:O.a,alt:""}))),o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.signUp(t)},className:"sign-in"===c?"".concat(I.a.signUpForm," ").concat(I.a.inactive):"".concat(I.a.signUpForm," ").concat(I.a.active)},o.a.createElement("input",{type:"text",name:"user_name",placeholder:"Nombre de usuario",required:!0}),o.a.createElement("input",{type:"email",name:"email",placeholder:"Correo",required:!0}),o.a.createElement("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",required:!0}),o.a.createElement("button",{type:"submit",className:"custom-btn green-btn ".concat(I.a.btn)},"Registrarse")),l)))})),U=a(32),j=a.n(U),R=k.firestore(),x=k.auth(),D=function(e){var t=Object(n.useState)(""),a=Object(S.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!1),l=Object(S.a)(i,2),s=l[0],u=l[1],d=Object(n.useState)(!1),p=Object(S.a)(d,2),g=p[0],E=p[1];console.log(c),console.log(e.location);return o.a.createElement("main",{className:j.a.newPost},g?o.a.createElement(m.a,{to:"/"}):null,s?o.a.createElement(m.a,{to:"/404"}):null,o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e){var t=e.target["post-category"].value,a=e.target["post-title"].value,n=e.target["post-content"].value;x.currentUser?R.collection("Posts").add({uid:x.currentUser.uid,author:x.currentUser.displayName,category:t,title:a,content:n,likes:[],comments:{},timestamp:k.firestore.FieldValue.serverTimestamp()}).then((function(){console.log("Publicaci\xf3n creada correctamente"),r("Publicaci\xf3n creada correctamente"),setTimeout((function(){E(!0)}),1e3)})).catch((function(e){console.log(e.message),r("".concat(e.message))})):(u(!0),console.log("No hay ning\xfan usuario conectado, por favor inicia sesi\xf3n y vuelve a intentarlo"))}(e)}},o.a.createElement("div",{className:j.a.categoryContainer},o.a.createElement("select",{name:"post-category",required:!0},o.a.createElement("option",{disabled:!0,defaultValue:"Selecciona"},"Selecciona la categor\xeda..."),o.a.createElement("option",{value:"tips"},"Tips"),o.a.createElement("option",{value:"cuarentena"},"Cuarentena"),o.a.createElement("option",{value:"adopci\xf3n"},"Adopci\xf3n"),o.a.createElement("option",{value:"servicios"},"Servicios"))),o.a.createElement("input",{name:"post-title",type:"text",placeholder:"T\xedtulo",required:!0}),o.a.createElement("textarea",{name:"post-content",type:"text",placeholder:"Escribe aqu\xed",required:!0}),o.a.createElement("button",{className:"custom-btn green-btn",type:"submit"},"Publicar")),o.a.createElement("p",{className:j.a.infoMessage},c))},F=a(26),L=a.n(F),q=a(50),H=a.n(q),V=Object(N.b)((function(e){return{userName:e.authReducer.userName,userId:e.authReducer.userId,userEmail:e.authReducer.userEmail}}))((function(e){return o.a.createElement("main",{className:L.a.controlPanelContainer},o.a.createElement("h1",{className:L.a.controlPanelHeading},"Editar perfil"),o.a.createElement("form",{className:L.a.controlPanelForm,onSubmit:function(e){return console.log("Editando perfil de usuario",e.target)}},o.a.createElement("div",{onClick:function(){return console.log("editando foto de perfil")},className:L.a.profilePic},o.a.createElement("img",{src:H.a,alt:"Foto de perfil del usuario"})),o.a.createElement("p",null,e.userName),o.a.createElement("input",{type:"text",name:"user-name",placeholder:"Nuevo nombre de usuario"}),o.a.createElement("p",null,"**********"),o.a.createElement("input",{type:"password",name:"password",placeholder:"Nueva contrase\xf1a"}),o.a.createElement("p",null,e.userEmail),o.a.createElement("input",{type:"email",name:"email",placeholder:"Nuevo correo"}),o.a.createElement("button",{type:"submit",className:"custom-btn green-btn"},"Guardar")))})),W=a(12),Q=a.n(W),z=a(31),G=a.n(z),K=(k.firestore(),k.auth()),Y=Object(N.b)((function(e){return{authenticated:e.authReducer.authenticated,userId:e.authReducer.userId}}))((function(e){var t=Object(n.useState)({pawActivation:!1}),a=Object(S.a)(t,2),c=a[0],r=a[1];return o.a.createElement("article",{onClick:function(t){t.preventDefault(),e.updateOrDelete(t)},"data-userid":e.uid,"data-postid":e.id,"data-posttitle":e.title,"data-postcontent":e.content,className:Q.a.post},o.a.createElement("section",{className:Q.a.postContent},o.a.createElement("h4",{name:"post-title",className:Q.a.heading},e.title),o.a.createElement("div",{className:Q.a.innerContent},o.a.createElement("div",{className:!0===e.authenticated&&e.userId===e.uid?"".concat(Q.a.pawContainer," active"):"".concat(Q.a.pawContainer," inactive")},o.a.createElement("img",{onClick:function(e){return function(e){r({pawId:e.target.id,pawActivation:!1===c.pawActivation})}(e)},id:e.id,src:G.a,alt:"Imagen de patita de perro para eliminar o editar publicaci\xf3n"}),o.a.createElement("div",{className:c.pawActivation?"active":"inactive"},o.a.createElement("button",{id:"update"},"Actualizar"),o.a.createElement("button",{id:"delete"},"Eliminar"))),o.a.createElement("div",{className:Q.a.data},o.a.createElement("p",{className:Q.a.heading},"Categor\xeda: ",e.category),o.a.createElement("p",{className:Q.a.heading},"Autor: ",e.author),o.a.createElement("p",{className:Q.a.heading},"Me gusta: ",e.likes.length),o.a.createElement("p",{className:Q.a.heading},"Publicado: ",e.date),o.a.createElement("p",{name:"post-content",className:Q.a.contentArea},e.content)))),o.a.createElement("div",{className:Q.a.interactionContainer},o.a.createElement("button",{onClick:function(t){t.preventDefault(),e.clicked(t)},className:null!==K.currentUser?"custom-btn green-btn":"inactive"},"Me gusta"),o.a.createElement("button",{className:"custom-btn green-btn"},"Comentar"),o.a.createElement("button",{className:"custom-btn green-btn"},"Compartir")))})),J=a(40),X=a.n(J),Z=function(e){var t,a=e.data().timestamp.toDate().toString().split(" ");switch(a[1]){case"Jan":t="Enero";break;case"Feb":t="Febrero";break;case"Mar":t="Marzo";break;case"Apr":t="Abril";break;case"May":t="Mayo";break;case"Jun":t="Junio";break;case"Jul":t="Julio";break;case"Aug":t="Agosto";break;case"Sep":t="Septiembre";break;case"Oct":t="Octubre";break;case"Nov":t="Noviembre";break;case"Dec":t="Dicimebre";break;default:t="Mes"}return"".concat(a[2]," de ").concat(t," del ").concat(a[3]," a las ").concat(a[4])},$=a(21),ee=a.n($),te=k.firestore(),ae=(k.auth(),function(e){var t=Object(n.useState)(""),a=Object(S.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){r({title:e.modalState.postTitle,content:e.modalState.postContent})}),[r,e.modalState.postId]),console.log(c),o.a.createElement("article",{className:!0===e.modalState.modalState?"".concat(ee.a.modalWrapper," ").concat(ee.a.active):"".concat(ee.a.modalWrapper," ").concat(ee.a.inactive)},o.a.createElement("p",{className:ee.a.closeModalBtn,onClick:function(){e.setModalState({modalState:!1})}},"\xd7"),o.a.createElement("section",{className:ee.a.modalContent},o.a.createElement("form",{id:e.modalState.id,onSubmit:function(t){t.preventDefault(),function(t){console.log(t.target);var a=t.target["post-title"].value,n=t.target["post-content"].value;console.log(a,n),te.collection("Posts").doc("".concat(e.modalState.postId)).update({title:a,content:n}).then((function(t){e.setModalState({modalState:!1})}))}(t)}},o.a.createElement("input",{name:"post-title",type:"text",defaultValue:c.title}),o.a.createElement("textarea",{name:"post-content",cols:"30",rows:"10",defaultValue:c.content}),o.a.createElement("button",{type:"submit",className:"custom-btn green-btn"},"Actualizar")),o.a.createElement("p",null,e.successMessage)))}),ne=a(18),oe=a.n(ne),ce=k.firestore(),re=(k.auth(),function(e){var t=Object(n.useState)(""),a=Object(S.a)(t,2),c=a[0],r=a[1],i=function(){e.setConfirmationState({modalState:!1})};return o.a.createElement("article",{className:e.confirmationState.modalState?"".concat(oe.a.modalWrapper," ").concat(oe.a.active):"".concat(oe.a.modalWrapper," ").concat(oe.a.inactive)},o.a.createElement("p",{className:oe.a.closeModalBtn,onClick:function(){return i()}},"\xd7"),o.a.createElement("section",{className:oe.a.modal},o.a.createElement("section",{className:oe.a.modalContent},o.a.createElement("h5",null,"\xbfEst\xe1s seguro de que quieres eliminar esta publicaci\xf3n?"),o.a.createElement("div",{className:oe.a.actionController},o.a.createElement("button",{onClick:function(){ce.collection("Posts").doc("".concat(e.confirmationState.postId)).delete().then((function(){r("Publicaci\xf3n eliminada correctamente."),setTimeout((function(){r(""),e.setConfirmationState({modalState:!1})}),1e3)})).catch((function(e){r(e.message)}))},className:"custom-btn warning-btn"},"Eliminar"),o.a.createElement("button",{onClick:function(){return i()},className:"custom-btn green-btn"},"Cancelar")),o.a.createElement("p",{className:oe.a.actionMessage},c))))}),ie=k.firestore(),le=(k.auth(),Object(N.b)((function(e){return{authenticated:e.authReducer.authenticated,userId:e.authReducer.userId,burgerState:e.burgerMenuReducer.burgerState}}),(function(e){return{openBurgerMenu:function(){return e({type:"OPEN"})},closeBurgerMenu:function(){return e({type:"CLOSE"})}}}))((function(e){var t=Object(n.useState)([]),a=Object(S.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!1),l=Object(S.a)(i,2),s=(l[0],l[1],Object(n.useState)({modalState:!1})),d=Object(S.a)(s,2),p=d[0],g=d[1],E=Object(n.useState)(!1),b=Object(S.a)(E,2),h=b[0],f=(b[1],Object(n.useState)(!1)),A=Object(S.a)(f,2),v=A[0],_=(A[1],Object(n.useState)({modalState:!1})),N=Object(S.a)(_,2),C=N[0],M=N[1];Object(n.useEffect)((function(){e.closeBurgerMenu();var t,a=null;"/"===window.location.pathname?(console.log("posts antes de llenado",t),a=ie.collection("Posts").orderBy("timestamp","desc").onSnapshot((function(e){t=[],e.forEach((function(e){!e.data().timestamp&&e.metadata.hasPendingWrites&&console.log("EL DOCUMENTO TIENE LA HORA PENDIENTE",e.data().id),e.metadata.hasPendingWrites&&console.log("algo est\xe1 pendiente!!",e.data().title,e.data().likes);var a={id:e.id,author:e.data().author,uid:e.data().uid,category:e.data().category,comments:e.data().comments,content:e.data().content,likes:e.data().likes,timestamp:!e.data().timestamp&&e.metadata.hasPendingWrites?"Hora en proceso":Z(e),title:e.data().title};t.push(a)})),console.log("LIKE GENER\xd3 EJECUCI\xd3N DE ONSNAPSHOT!!!"),r(t)}))):ie.collection("Posts").where("category","==","".concat(e.match.params.category)).orderBy("timestamp","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var a={id:e.id,author:e.data().author,uid:e.data().uid,category:e.data().category,comments:e.data().comments,content:e.data().content,likes:e.data().likes,timestamp:!e.data().timestamp&&e.metadata.hasPendingWrites?"Hora en proceso":Z(e),title:e.data().title};t.push(a)})),r(t)}));if(null!==a)return function(){a()}}),[r,e.match.params.category]);var w,I=function(e){e.target.parentElement.parentElement.getAttribute("data-userid");var t=e.target.parentElement.parentElement.getAttribute("data-postid");ie.collection("Posts").doc("".concat(t)).get().then((function(e){var a=e.data().likes;console.log(a);var n=a.includes("".concat(k.auth().currentUser.displayName));console.log(n),!0===n?ie.collection("Posts").doc("".concat(t)).update({likes:k.firestore.FieldValue.arrayRemove("".concat(k.auth().currentUser.displayName))}):!1===n&&ie.collection("Posts").doc("".concat(t)).update({likes:k.firestore.FieldValue.arrayUnion("".concat(k.auth().currentUser.displayName))})}))};w=c.map((function(t){return o.a.createElement(Y,{updateOrDelete:function(t){return function(t){var a=t.currentTarget.getAttribute("data-postid"),n=t.currentTarget.getAttribute("data-userid");if("delete"===t.target.id&&e.userId===n?(console.log("tienes permiso para eliminar el post"),M({modalState:!0,postId:a})):"delete"===t.target.id&&e.userId!==n&&console.log("no tienes permiso para eliminar el post"),"update"===t.target.id&&e.userId===n){var o=t.currentTarget.getAttribute("data-posttitle"),c=t.currentTarget.getAttribute("data-postcontent");g({modalState:!0,postTitle:o,postContent:c,postId:a})}else"update"===t.target.id&&e.userId===n&&console.log("no tienes permiso para actualizar el post")}(t)},key:t.id,category:t.category,author:t.author,title:t.title,content:t.content,likes:t.likes,comments:t.comments,date:t.timestamp,id:t.id,uid:t.uid,clicked:I})}));var y=null;return y=!1===e.authenticated?null:!0===e.authenticated&&void 0!==e.match.params.category?o.a.createElement(u.b,{to:"".concat(e.match.params.category,"/nueva-publicaci\xf3n")},o.a.createElement("button",{className:"custom-btn green-btn"},"Nueva publicaci\xf3n")):o.a.createElement(u.b,{to:"/nueva-publicaci\xf3n"},o.a.createElement("button",{className:"custom-btn green-btn"},"Nueva publicaci\xf3n")),console.log(w),console.log(e.burgerState),o.a.createElement("main",{className:X.a.postsContainer},h?o.a.createElement(m.a,{to:"/404"}):null,o.a.createElement(ae,{modalState:p,setModalState:g,successMessage:v}),o.a.createElement(re,{confirmationState:C,setConfirmationState:M}),o.a.createElement("section",{className:X.a.newPostControl},y),w)}))),se=a(51),ue=a.n(se),me=function(e){return o.a.createElement("footer",{className:ue.a.footer},o.a.createElement("p",null,"v2.0 Implementada por Loreto Guti\xe9rrez H."))},de=a(33),pe=a.n(de),ge=function(e){return o.a.createElement("main",{className:pe.a.errorTemplate},o.a.createElement("article",{className:pe.a.errorMessage},o.a.createElement("h1",null,"ERROR 404"),o.a.createElement("div",{className:pe.a.pawContainer},o.a.createElement("img",{src:G.a,alt:"Patita de perro, uno de los \xedconos de Paw Lovers"})),o.a.createElement("p",null,"Si ves esta pantalla es porque intentaste realizar una acci\xf3n no permitida, como actualizar o eliminar una publicaci\xf3n de otro usuario o crear una nueva publicaci\xf3n sin estar conectado. Te invitamos a registrarte para interactuar con otros usuarios."),o.a.createElement(u.b,{to:"/inicio"},"Volver a la p\xe1gina principal")))},Ee=(k.firestore(),k.auth()),be=Object(N.b)((function(e){return{authenticated:e.authReducer.authenticated,authModal:e.authReducer.authModal,failedAuthMessage:e.authReducer.errorMessage}}),(function(e){return{onAuthenticate:function(t,a,n,o){return e({type:"AUTHENTICATE",value:t,userName:a,userId:n,userEmail:o})},onActivateModal:function(){return e({type:"ACTIVATE"})},onFailedAuthentication:function(t){return e({type:"FAILEDAUTH",value:t})}}}))((function(e){var t=function(){var t=Object(s.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=new k.auth.GoogleAuthProvider,t.next=4,k.auth().signInWithPopup(a);case 4:e.onAuthenticate(!0),setTimeout((function(){e.onActivateModal()}),3e3),console.log("Sesi\xf3n iniciada con Google correctamente"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e.onFailedAuthentication(t.t0.message),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Ee.onAuthStateChanged((function(t){null!==t?e.onAuthenticate(!0,Ee.currentUser.displayName,Ee.currentUser.uid,Ee.currentUser.email):e.onAuthenticate(!1)})),o.a.createElement(u.a,null,o.a.createElement(C,{signOut:function(){Ee.signOut(),e.onAuthenticate(!1),console.log("Sesi\xf3n cerrada",Ee.currentUser)}}),o.a.createElement(B,{signInGoogle:t,signIn:function(t){var a=t.target.email.value,n=t.target.password.value;Ee.signInWithEmailAndPassword("".concat(a),"".concat(n)).then((function(t){e.onAuthenticate(!0),setTimeout((function(){e.onActivateModal()}),2e3)})).catch((function(t){e.onFailedAuthentication(t.message),console.log(t.message)}))},signUp:function(t){var a=t.target.user_name.value,n=t.target.email.value,o=t.target.password.value;Ee.createUserWithEmailAndPassword("".concat(n),"".concat(o)).then((function(t){t.user.updateProfile({displayName:a}),console.log("Se acaba de registrar un nuevo usuario con correo ".concat(t)),e.onAuthenticate(!0),setTimeout((function(){e.onActivateModal()}),2e3)})).catch((function(t){e.onFailedAuthentication(t.message),console.log(t)}))}}),o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/",component:le,exact:!0}),o.a.createElement(m.b,{path:"/panel-de-control",component:V},e.authenticated?console.log("AUTENTICADO"):o.a.createElement(m.a,{to:"/404"})),o.a.createElement(m.b,{path:"/404",component:ge,exact:!0}),o.a.createElement(m.b,{path:"/:category/nueva-publicaci\xf3n",component:D},e.authenticated?null:o.a.createElement(m.a,{to:"/404"})),o.a.createElement(m.b,{path:"/nueva-publicaci\xf3n",component:D}),o.a.createElement(m.b,{path:"/:category",component:le})),o.a.createElement("div",null),o.a.createElement(me,null))}));a(73),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=a(25),fe=a(15),Ae=function(e){switch(e){case"The password is invalid or the user does not have a password.":return"La contrase\xf1a no es v\xe1lida o el usuario no tiene una contrase\xf1a.";case"There is no user record corresponding to this identifier. The user may have been deleted.":return"No existen registros asociados con este correo electr\xf3nico, puede que el usuario haya sido eliminado.";case"The email address is already in use by another account.":return"Este correo electr\xf3nico ya est\xe1 asociado a una cuenta de Paw Lovers.";case"Password should be at least 6 characters":return"La contrase\xf1a debe tener 6 caracteres como m\xednimo";case"The email address is badly formatted.":return"El correo tiene un formato no permitido";default:return e}},ve={authenticated:!1,authModal:!1},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;return"AUTHENTICATE"===t.type?Object(fe.a)(Object(fe.a)({},e),{},{authenticated:t.value,userName:t.userName,userId:t.userId,userEmail:t.userEmail}):"ACTIVATE"===t.type?Object(fe.a)(Object(fe.a)({},e),{},{authModal:!1===e.authModal}):"FAILEDAUTH"===t.type?Object(fe.a)(Object(fe.a)({},e),{},{authenticated:!1,errorMessage:Ae(t.value)}):e},Ne={burgerState:"closed"},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;return"OPEN"===t.type?Object(fe.a)(Object(fe.a)({},e),{},{burgerState:"open"}):"CLOSE"===t.type?Object(fe.a)(Object(fe.a)({},e),{},{burgerState:"closed"}):e},Me=Object(he.b)({authReducer:_e,burgerMenuReducer:Ce}),Se=Object(he.c)(Me);r.a.render(o.a.createElement(N.a,{store:Se},o.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[52,1,2]]]);
//# sourceMappingURL=main.e6f62d64.chunk.js.map